<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>s3asim: /home/aching/Avery/Work.School/Research/pvfs2-lock/s3asim/src/worker_help.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<h1>/home/aching/Avery/Work.School/Research/pvfs2-lock/s3asim/src/worker_help.h File Reference</h1><code>#include &quot;<a class="el" href="llist_8h.html">llist.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="hist__params_8h.html">hist_params.h</a>&quot;</code><br>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structquery__result__s.html">query_result_s</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structisend__info__s.html">isend_info_s</a></td></tr>

<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="worker__help_8h.html#f19bd6c1a125bbcb95028adc2aaddfb1">NOT_USED</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="worker__help_8h.html#fb8a5f5d18be41526b4c197e0030dc4f">WAIT_RESULT_SIZE</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="worker__help_8h.html#b97d095520c9f3b5c52806b5aeddd441">WAIT_RESULT</a>&nbsp;&nbsp;&nbsp;2</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="worker__help_8h.html#6c79afab2fc82e7156da7e6517cb91cb">DONE_RESULT</a>&nbsp;&nbsp;&nbsp;3</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="worker__help_8h.html#9c9ceef4a90903ce9335fc1562831627">START_IRECV</a>&nbsp;&nbsp;&nbsp;4</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="worker__help_8h.html#9c1c3db9f36b3d553d620aaf8ee58e8d">WAIT_OFFSET_LIST_COUNT</a>&nbsp;&nbsp;&nbsp;5</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="worker__help_8h.html#ad86dc091abd765cf33ef2cabefe6022">WAIT_OFFSET_LIST</a>&nbsp;&nbsp;&nbsp;6</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="worker__help_8h.html#c8d66fc22b3a1de83900489ec30ebee9">DONE_OFFSET_LIST</a>&nbsp;&nbsp;&nbsp;7</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="worker__help_8h.html#302520490d64097dab003ac0e9850aaa">IO_FINISHED</a>&nbsp;&nbsp;&nbsp;8</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="worker__help_8h.html#84a9884aa5ed7dfe933c00d82bd76a0d">MAX_WORKER_STATE</a>&nbsp;&nbsp;&nbsp;9</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="worker__help_8h.html#161c6bf11404da23f92bd2ff27821b34">get_test_params</a> (int myid, int numprocs, struct <a class="el" href="structmpe__events__s.html">mpe_events_s</a> *mpe_events_p, struct <a class="el" href="structtest__params__s.html">test_params_s</a> *test_params_p)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="worker__help_8h.html#ffb5c0f03d99f627905b665625b18c54">send_recv_work_req</a> (int myid, int *all_done_p, struct <a class="el" href="structwork__info__s.html">work_info_s</a> *work_info_p, struct <a class="el" href="structmpe__events__s.html">mpe_events_s</a> *mpe_events_p, struct <a class="el" href="structtest__params__s.html">test_params_s</a> *test_params_p)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="worker__help_8h.html#d8429d14833d850c0f3f071880bf6441">print_result</a> (struct <a class="el" href="structresult__s.html">result_s</a> *cur_result_p)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="worker__help_8h.html#e2fcc507d8e2594dc36e1ab4691682c8">do_work</a> (int myid, struct <a class="el" href="structwork__info__s.html">work_info_s</a> *work_info_p, struct <a class="el" href="structisend__info__s.html">isend_info_s</a> **query_frag_isend_matrix, struct <a class="el" href="structmpe__events__s.html">mpe_events_s</a> *mpe_events_p, struct <a class="el" href="structtest__params__s.html">test_params_s</a> *test_params_p)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="worker__help_8h.html#ce440b5131cc6f4d43173277259fc944">merge_results</a> (int myid, struct <a class="el" href="structwork__info__s.html">work_info_s</a> *work_info_p, struct <a class="el" href="structquery__result__s.html">query_result_s</a> *query_result_list, struct <a class="el" href="structisend__info__s.html">isend_info_s</a> **query_frag_isend_matrix, struct <a class="el" href="structmpe__events__s.html">mpe_events_s</a> *mpe_events_p, struct <a class="el" href="structtest__params__s.html">test_params_s</a> *test_params_p)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="worker__help_8h.html#592e46c30e8bc597540756ddad3517cf">worker_isend_results</a> (int myid, struct <a class="el" href="structwork__info__s.html">work_info_s</a> *work_info_p, int *last_query_offset_recv_p, struct <a class="el" href="structisend__info__s.html">isend_info_s</a> **query_frag_isend_matrix, struct <a class="el" href="structmpe__events__s.html">mpe_events_s</a> *mpe_events_p, struct <a class="el" href="structtest__params__s.html">test_params_s</a> *test_params_p)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="worker__help_8h.html#96a210dab5fe40a84b24cada6de7462e">worker_check_isend_results</a> (int myid, int wait_status, struct <a class="el" href="structwork__info__s.html">work_info_s</a> *last_query_result_sent_p, struct <a class="el" href="structwork__info__s.html">work_info_s</a> *last_query_result_comp_p, struct <a class="el" href="structquery__result__s.html">query_result_s</a> *query_result_list, struct <a class="el" href="structisend__info__s.html">isend_info_s</a> **query_frag_isend_matrix, struct <a class="el" href="structmpe__events__s.html">mpe_events_s</a> *mpe_events_p, struct <a class="el" href="structtest__params__s.html">test_params_s</a> *test_params_p)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="worker__help_8h.html#b07ca743d3a52f123f00baad6be7bb8e">worker_post_irecv</a> (int myid, struct <a class="el" href="structwork__info__s.html">work_info_s</a> *work_info_p, struct <a class="el" href="structquery__result__s.html">query_result_s</a> *query_result_list, struct <a class="el" href="structmpe__events__s.html">mpe_events_s</a> *mpe_events_p, struct <a class="el" href="structtest__params__s.html">test_params_s</a> *test_params_p)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="worker__help_8h.html#ff51d5ed7d6274863acfae7518accaa2">worker_check_irecv_offsets</a> (int myid, int wait_status, int last_query_offset_recv, int *last_query_offset_comp_p, struct <a class="el" href="structquery__result__s.html">query_result_s</a> *query_result_list, struct <a class="el" href="structmpe__events__s.html">mpe_events_s</a> *mpe_events_p, struct <a class="el" href="structtest__params__s.html">test_params_s</a> *test_params_p)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="worker__help_8h.html#ca670aa4ccec1df3b834ec98395719b5">do_all_worker_io</a> (int myid, int wait_status, int last_io_ready, int *last_io_comp_p, struct <a class="el" href="structquery__result__s.html">query_result_s</a> *query_result_list, struct <a class="el" href="structmpe__events__s.html">mpe_events_s</a> *mpe_events_p, struct <a class="el" href="structtest__params__s.html">test_params_s</a> *test_params_p)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="worker__help_8h.html#18eec021c54dddd519b819fa28ff4003">worker_check_all_irecv</a> (int myid, int numprocs, struct <a class="el" href="structquery__result__s.html">query_result_s</a> *query_result_list, struct <a class="el" href="structmpe__events__s.html">mpe_events_s</a> *mpe_events_p, struct <a class="el" href="structtest__params__s.html">test_params_s</a> *test_params_p)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="worker__help_8h.html#8d5c9557c44361908b0d95a7ea13c120">worker_check_all_isend</a> (int myid, int numprocs, struct <a class="el" href="structisend__info__s.html">isend_info_s</a> **query_frag_isend_matrix, struct <a class="el" href="structmpe__events__s.html">mpe_events_s</a> *mpe_events_p, struct <a class="el" href="structtest__params__s.html">test_params_s</a> *test_params_p)</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int64_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="worker__help_8h.html#1931c00ae0b7104d5c1c7473116ae1e4">global_debug_mask</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="worker__help_8h.html#b8304f1191eac06a2fd04538b0249528">decode_req</a> [MAX_REQ]</td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="c8d66fc22b3a1de83900489ec30ebee9"></a><!-- doxytag: member="worker_help.h::DONE_OFFSET_LIST" ref="c8d66fc22b3a1de83900489ec30ebee9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DONE_OFFSET_LIST&nbsp;&nbsp;&nbsp;7          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="6c79afab2fc82e7156da7e6517cb91cb"></a><!-- doxytag: member="worker_help.h::DONE_RESULT" ref="6c79afab2fc82e7156da7e6517cb91cb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DONE_RESULT&nbsp;&nbsp;&nbsp;3          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="302520490d64097dab003ac0e9850aaa"></a><!-- doxytag: member="worker_help.h::IO_FINISHED" ref="302520490d64097dab003ac0e9850aaa" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IO_FINISHED&nbsp;&nbsp;&nbsp;8          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="84a9884aa5ed7dfe933c00d82bd76a0d"></a><!-- doxytag: member="worker_help.h::MAX_WORKER_STATE" ref="84a9884aa5ed7dfe933c00d82bd76a0d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_WORKER_STATE&nbsp;&nbsp;&nbsp;9          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="f19bd6c1a125bbcb95028adc2aaddfb1"></a><!-- doxytag: member="worker_help.h::NOT_USED" ref="f19bd6c1a125bbcb95028adc2aaddfb1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NOT_USED&nbsp;&nbsp;&nbsp;0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="9c9ceef4a90903ce9335fc1562831627"></a><!-- doxytag: member="worker_help.h::START_IRECV" ref="9c9ceef4a90903ce9335fc1562831627" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define START_IRECV&nbsp;&nbsp;&nbsp;4          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="ad86dc091abd765cf33ef2cabefe6022"></a><!-- doxytag: member="worker_help.h::WAIT_OFFSET_LIST" ref="ad86dc091abd765cf33ef2cabefe6022" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WAIT_OFFSET_LIST&nbsp;&nbsp;&nbsp;6          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="9c1c3db9f36b3d553d620aaf8ee58e8d"></a><!-- doxytag: member="worker_help.h::WAIT_OFFSET_LIST_COUNT" ref="9c1c3db9f36b3d553d620aaf8ee58e8d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WAIT_OFFSET_LIST_COUNT&nbsp;&nbsp;&nbsp;5          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="b97d095520c9f3b5c52806b5aeddd441"></a><!-- doxytag: member="worker_help.h::WAIT_RESULT" ref="b97d095520c9f3b5c52806b5aeddd441" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WAIT_RESULT&nbsp;&nbsp;&nbsp;2          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="fb8a5f5d18be41526b4c197e0030dc4f"></a><!-- doxytag: member="worker_help.h::WAIT_RESULT_SIZE" ref="fb8a5f5d18be41526b4c197e0030dc4f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WAIT_RESULT_SIZE&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="ca670aa4ccec1df3b834ec98395719b5"></a><!-- doxytag: member="worker_help.h::do_all_worker_io" ref="ca670aa4ccec1df3b834ec98395719b5" args="(int myid, int wait_status, int last_io_ready, int *last_io_comp_p, struct query_result_s *query_result_list, struct mpe_events_s *mpe_events_p, struct test_params_s *test_params_p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int do_all_worker_io           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>myid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>wait_status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>last_io_ready</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>last_io_comp_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structquery__result__s.html">query_result_s</a> *&nbsp;</td>
          <td class="paramname"> <em>query_result_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmpe__events__s.html">mpe_events_s</a> *&nbsp;</td>
          <td class="paramname"> <em>mpe_events_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structtest__params__s.html">test_params_s</a> *&nbsp;</td>
          <td class="paramname"> <em>test_params_p</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function will only be called if the worker-writing method is used. When the master notifies the worker of getting ready to write, the worker will try to do I/O to the queries which it has received offset arrays for. If collective I/O is used, the worker will be careful about when to call this function to ensure that all processes write together.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>myid</em>&nbsp;</td><td>MPI myid. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>wait_status_p</em>&nbsp;</td><td>Pointer to the wait status of the worker. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>last_io_ready</em>&nbsp;</td><td>Last I/O operation possible </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>last_io_comp_p</em>&nbsp;</td><td>Pointer to the I/O query operation to try next (modified in this function). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>query_result_list</em>&nbsp;</td><td>The head of the result list for a query. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mpe_events_p</em>&nbsp;</td><td>Pointer to timing structure. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>test_params_p</em>&nbsp;</td><td>Pointer to test_params. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="e2fcc507d8e2594dc36e1ab4691682c8"></a><!-- doxytag: member="worker_help.h::do_work" ref="e2fcc507d8e2594dc36e1ab4691682c8" args="(int myid, struct work_info_s *work_info_p, struct isend_info_s **query_frag_isend_matrix, struct mpe_events_s *mpe_events_p, struct test_params_s *test_params_p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int do_work           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>myid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structwork__info__s.html">work_info_s</a> *&nbsp;</td>
          <td class="paramname"> <em>work_info_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structisend__info__s.html">isend_info_s</a> **&nbsp;</td>
          <td class="paramname"> <em>query_frag_isend_matrix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmpe__events__s.html">mpe_events_s</a> *&nbsp;</td>
          <td class="paramname"> <em>mpe_events_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structtest__params__s.html">test_params_s</a> *&nbsp;</td>
          <td class="paramname"> <em>test_params_p</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The work is calculated based on a very simple model for determining the actual computational time of comparing each (query,frag). The results are generated and saved in the query_frag_isend_matrix in an array before sending to the master. After the compute time has been generated, it is simulated through usleep().<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>myid</em>&nbsp;</td><td>MPI myid. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>work_info_p</em>&nbsp;</td><td>Pointer to work_info structure. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>query_frag_isend_matrix</em>&nbsp;</td><td>Pointer to matrix of isend request information. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mpe_events_p</em>&nbsp;</td><td>Pointer to timing structure. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>test_params_p</em>&nbsp;</td><td>Pointer to test_params. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success. </dd></dl>

</div>
</div><p>
<a class="anchor" name="161c6bf11404da23f92bd2ff27821b34"></a><!-- doxytag: member="worker_help.h::get_test_params" ref="161c6bf11404da23f92bd2ff27821b34" args="(int myid, int numprocs, struct mpe_events_s *mpe_events_p, struct test_params_s *test_params_p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int get_test_params           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>myid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numprocs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmpe__events__s.html">mpe_events_s</a> *&nbsp;</td>
          <td class="paramname"> <em>mpe_events_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structtest__params__s.html">test_params_s</a> *&nbsp;</td>
          <td class="paramname"> <em>test_params_p</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Before any work begins, the master distributes the test parameters to the workers through this function.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>myid</em>&nbsp;</td><td>MPI myid. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>numprocs</em>&nbsp;</td><td>Number of processes used. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mpe_events_p</em>&nbsp;</td><td>Pointer to timing structure. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>test_params_p</em>&nbsp;</td><td>Pointer to test_params. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success. </dd></dl>

</div>
</div><p>
<a class="anchor" name="ce440b5131cc6f4d43173277259fc944"></a><!-- doxytag: member="worker_help.h::merge_results" ref="ce440b5131cc6f4d43173277259fc944" args="(int myid, struct work_info_s *work_info_p, struct query_result_s *query_result_list, struct isend_info_s **query_frag_isend_matrix, struct mpe_events_s *mpe_events_p, struct test_params_s *test_params_p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int merge_results           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>myid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structwork__info__s.html">work_info_s</a> *&nbsp;</td>
          <td class="paramname"> <em>work_info_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structquery__result__s.html">query_result_s</a> *&nbsp;</td>
          <td class="paramname"> <em>query_result_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structisend__info__s.html">isend_info_s</a> **&nbsp;</td>
          <td class="paramname"> <em>query_frag_isend_matrix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmpe__events__s.html">mpe_events_s</a> *&nbsp;</td>
          <td class="paramname"> <em>mpe_events_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structtest__params__s.html">test_params_s</a> *&nbsp;</td>
          <td class="paramname"> <em>test_params_p</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The results in the query_frag_isend_matrix are first converted to a linked list. Then this linked list is merged with the previous results (if there are any), which are also in a linked list.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>myid</em>&nbsp;</td><td>MPI myid. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>work_info_p</em>&nbsp;</td><td>Pointer to work_info structure. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>query_result_list</em>&nbsp;</td><td>The head of the result list for a query. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>query_frag_isend_matrix</em>&nbsp;</td><td>Pointer to matrix of isend request information. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mpe_events_p</em>&nbsp;</td><td>Pointer to timing structure. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>test_params_p</em>&nbsp;</td><td>Pointer to test_params. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success. </dd></dl>

</div>
</div><p>
<a class="anchor" name="d8429d14833d850c0f3f071880bf6441"></a><!-- doxytag: member="worker_help.h::print_result" ref="d8429d14833d850c0f3f071880bf6441" args="(struct result_s *cur_result_p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void print_result           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structresult__s.html">result_s</a> *&nbsp;</td>
          <td class="paramname"> <em>cur_result_p</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Debugging function to print out the member variables of the result structure.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cur_result_p</em>&nbsp;</td><td>Result which will have its member variables printed. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="ffb5c0f03d99f627905b665625b18c54"></a><!-- doxytag: member="worker_help.h::send_recv_work_req" ref="ffb5c0f03d99f627905b665625b18c54" args="(int myid, int *all_done_p, struct work_info_s *work_info_p, struct mpe_events_s *mpe_events_p, struct test_params_s *test_params_p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int send_recv_work_req           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>myid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>wait_status_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structwork__info__s.html">work_info_s</a> *&nbsp;</td>
          <td class="paramname"> <em>work_info_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmpe__events__s.html">mpe_events_s</a> *&nbsp;</td>
          <td class="paramname"> <em>mpe_events_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structtest__params__s.html">test_params_s</a> *&nbsp;</td>
          <td class="paramname"> <em>test_params_p</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The worker uses this function to send a request to the master process to request work. The wait_status is encoded in the frag section if the query is done or all queries are done. Otherwise the worker gets the (query,frag) information.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>myid</em>&nbsp;</td><td>MPI myid. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>wait_status_p</em>&nbsp;</td><td>Pointer to the wait status of the worker. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>work_info_p</em>&nbsp;</td><td>Pointer to work information structure. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mpe_events_p</em>&nbsp;</td><td>Pointer to timing structure. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>test_params_p</em>&nbsp;</td><td>Pointer to test_params. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success. </dd></dl>

</div>
</div><p>
<a class="anchor" name="18eec021c54dddd519b819fa28ff4003"></a><!-- doxytag: member="worker_help.h::worker_check_all_irecv" ref="18eec021c54dddd519b819fa28ff4003" args="(int myid, int numprocs, struct query_result_s *query_result_list, struct mpe_events_s *mpe_events_p, struct test_params_s *test_params_p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void worker_check_all_irecv           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>myid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numprocs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structquery__result__s.html">query_result_s</a> *&nbsp;</td>
          <td class="paramname"> <em>query_result_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmpe__events__s.html">mpe_events_s</a> *&nbsp;</td>
          <td class="paramname"> <em>mpe_events_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structtest__params__s.html">test_params_s</a> *&nbsp;</td>
          <td class="paramname"> <em>test_params_p</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Do a final check on the query_result_list for any uncompleted irecvs. None should exist.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>myid</em>&nbsp;</td><td>MPI myid. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>numprocs</em>&nbsp;</td><td>Number of processes used. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>query_result_list</em>&nbsp;</td><td>The head of the result list for a query. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mpe_events_p</em>&nbsp;</td><td>Pointer to timing structure. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>test_params_p</em>&nbsp;</td><td>Pointer to test_params. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="8d5c9557c44361908b0d95a7ea13c120"></a><!-- doxytag: member="worker_help.h::worker_check_all_isend" ref="8d5c9557c44361908b0d95a7ea13c120" args="(int myid, int numprocs, struct isend_info_s **query_frag_isend_matrix, struct mpe_events_s *mpe_events_p, struct test_params_s *test_params_p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void worker_check_all_isend           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>myid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numprocs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structisend__info__s.html">isend_info_s</a> **&nbsp;</td>
          <td class="paramname"> <em>query_frag_isend_matrix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmpe__events__s.html">mpe_events_s</a> *&nbsp;</td>
          <td class="paramname"> <em>mpe_events_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structtest__params__s.html">test_params_s</a> *&nbsp;</td>
          <td class="paramname"> <em>test_params_p</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Do a final check on the query_frag_isend_matrix for any uncompleted isends. None should exist.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>myid</em>&nbsp;</td><td>MPI myid. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>numprocs</em>&nbsp;</td><td>Number of processes used. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>query_frag_isend_matrix</em>&nbsp;</td><td>Pointer to matrix of isend request information. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mpe_events_p</em>&nbsp;</td><td>Pointer to timing structure. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>test_params_p</em>&nbsp;</td><td>Pointer to test_params. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="ff51d5ed7d6274863acfae7518accaa2"></a><!-- doxytag: member="worker_help.h::worker_check_irecv_offsets" ref="ff51d5ed7d6274863acfae7518accaa2" args="(int myid, int wait_status, int last_query_offset_recv, int *last_query_offset_comp_p, struct query_result_s *query_result_list, struct mpe_events_s *mpe_events_p, struct test_params_s *test_params_p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int worker_check_irecv_offsets           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>myid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>wait_status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>last_query_offset_recv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>last_query_offset_comp_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structquery__result__s.html">query_result_s</a> *&nbsp;</td>
          <td class="paramname"> <em>query_result_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmpe__events__s.html">mpe_events_s</a> *&nbsp;</td>
          <td class="paramname"> <em>mpe_events_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structtest__params__s.html">test_params_s</a> *&nbsp;</td>
          <td class="paramname"> <em>test_params_p</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Check for all the irecvs from all queries that had results from this worker. Post irecvs for the actual offset array when the size irecv is completed. Check for both the sizes and the actual offset arrays.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>myid</em>&nbsp;</td><td>MPI myid. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>wait_status_p</em>&nbsp;</td><td>Pointer to the wait status of the worker. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>last_query_offset_recv</em>&nbsp;</td><td>Last query to look for offset irecv.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>last_query_offset_comp_p</em>&nbsp;</td><td>Pointer to information set in this function of the last query to look for offset irecvs. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>query_result_list</em>&nbsp;</td><td>The head of the result list for a query. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mpe_events_p</em>&nbsp;</td><td>Pointer to timing structure. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>test_params_p</em>&nbsp;</td><td>Pointer to test_params. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success. </dd></dl>

</div>
</div><p>
<a class="anchor" name="96a210dab5fe40a84b24cada6de7462e"></a><!-- doxytag: member="worker_help.h::worker_check_isend_results" ref="96a210dab5fe40a84b24cada6de7462e" args="(int myid, int wait_status, struct work_info_s *last_query_result_sent_p, struct work_info_s *last_query_result_comp_p, struct query_result_s *query_result_list, struct isend_info_s **query_frag_isend_matrix, struct mpe_events_s *mpe_events_p, struct test_params_s *test_params_p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int worker_check_isend_results           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>myid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>wait_status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structwork__info__s.html">work_info_s</a> *&nbsp;</td>
          <td class="paramname"> <em>last_query_result_sent_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structwork__info__s.html">work_info_s</a> *&nbsp;</td>
          <td class="paramname"> <em>last_query_result_comp_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structquery__result__s.html">query_result_s</a> *&nbsp;</td>
          <td class="paramname"> <em>query_result_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structisend__info__s.html">isend_info_s</a> **&nbsp;</td>
          <td class="paramname"> <em>query_frag_isend_matrix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmpe__events__s.html">mpe_events_s</a> *&nbsp;</td>
          <td class="paramname"> <em>mpe_events_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structtest__params__s.html">test_params_s</a> *&nbsp;</td>
          <td class="paramname"> <em>test_params_p</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The worker occasionally uses this function to check on the state of all its isends to the master for every (query,frag) it has processed. It checks the isends in order so that it can avoid checking a large amount of isend requests every time it is called.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>myid</em>&nbsp;</td><td>MPI myid. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>wait_status_p</em>&nbsp;</td><td>Pointer to the wait status of the worker. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>last_query_result_sent_p</em>&nbsp;</td><td>Pointer to the work_info structure of the last (query,frag) sent. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>last_query_result_comp_p</em>&nbsp;</td><td>Pointer to the work_info structure of the next (query,frag) to be checked (changed in this function). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>query_result_list</em>&nbsp;</td><td>The head of the result list for a query. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>query_frag_isend_matrix</em>&nbsp;</td><td>Pointer to matrix of isend request information. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mpe_events_p</em>&nbsp;</td><td>Pointer to timing structure. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>test_params_p</em>&nbsp;</td><td>Pointer to test_params. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success. </dd></dl>

</div>
</div><p>
<a class="anchor" name="592e46c30e8bc597540756ddad3517cf"></a><!-- doxytag: member="worker_help.h::worker_isend_results" ref="592e46c30e8bc597540756ddad3517cf" args="(int myid, struct work_info_s *work_info_p, int *last_query_offset_recv_p, struct isend_info_s **query_frag_isend_matrix, struct mpe_events_s *mpe_events_p, struct test_params_s *test_params_p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int worker_isend_results           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>myid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structwork__info__s.html">work_info_s</a> *&nbsp;</td>
          <td class="paramname"> <em>work_info_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>last_query_offset_recv_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structisend__info__s.html">isend_info_s</a> **&nbsp;</td>
          <td class="paramname"> <em>query_frag_isend_matrix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmpe__events__s.html">mpe_events_s</a> *&nbsp;</td>
          <td class="paramname"> <em>mpe_events_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structtest__params__s.html">test_params_s</a> *&nbsp;</td>
          <td class="paramname"> <em>test_params_p</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Given work info (query,frag), the worker sends the results to the master. The results are first copied into a contiguous buffer. The size is sent in a first isend and then the actual result is sent in the next isend. The result data is sent only in the master-writing mode.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>myid</em>&nbsp;</td><td>MPI myid. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>work_info_p</em>&nbsp;</td><td>Pointer to work information structure. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>last_query_offset_recv_p</em>&nbsp;</td><td>Pointer to information set in this function of the last query to look for offset irecv. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>query_frag_isend_matrix</em>&nbsp;</td><td>Pointer to matrix of isend request information. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mpe_events_p</em>&nbsp;</td><td>Pointer to timing structure. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>test_params_p</em>&nbsp;</td><td>Pointer to test_params. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success. </dd></dl>

</div>
</div><p>
<a class="anchor" name="b07ca743d3a52f123f00baad6be7bb8e"></a><!-- doxytag: member="worker_help.h::worker_post_irecv" ref="b07ca743d3a52f123f00baad6be7bb8e" args="(int myid, struct work_info_s *work_info_p, struct query_result_s *query_result_list, struct mpe_events_s *mpe_events_p, struct test_params_s *test_params_p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int worker_post_irecv           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>myid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structwork__info__s.html">work_info_s</a> *&nbsp;</td>
          <td class="paramname"> <em>work_info_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structquery__result__s.html">query_result_s</a> *&nbsp;</td>
          <td class="paramname"> <em>query_result_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmpe__events__s.html">mpe_events_s</a> *&nbsp;</td>
          <td class="paramname"> <em>mpe_events_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structtest__params__s.html">test_params_s</a> *&nbsp;</td>
          <td class="paramname"> <em>test_params_p</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
If the worker is using parallel I/O, it will have to receive the offset array from the master. It posts a irecv here for this query. Since it is possible that a irecv was already posted for this query, this function should not be called in that case.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>myid</em>&nbsp;</td><td>MPI myid. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>work_info_p</em>&nbsp;</td><td>Pointer to work information structure. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>query_result_list</em>&nbsp;</td><td>The head of the result list for a query. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mpe_events_p</em>&nbsp;</td><td>Pointer to timing structure. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>test_params_p</em>&nbsp;</td><td>Pointer to test_params. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success. </dd></dl>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="b8304f1191eac06a2fd04538b0249528"></a><!-- doxytag: member="worker_help.h::decode_req" ref="b8304f1191eac06a2fd04538b0249528" args="[MAX_REQ]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* <a class="el" href="worker__help_8h.html#b8304f1191eac06a2fd04538b0249528">decode_req</a>[MAX_REQ]          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="1931c00ae0b7104d5c1c7473116ae1e4"></a><!-- doxytag: member="worker_help.h::global_debug_mask" ref="1931c00ae0b7104d5c1c7473116ae1e4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t <a class="el" href="worker__help_8h.html#1931c00ae0b7104d5c1c7473116ae1e4">global_debug_mask</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr size="1"><address style="align: right;"><small>Generated on Sun May 20 13:10:04 2007 for s3asim by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
